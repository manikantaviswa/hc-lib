angular.module("hcLib",["camera","ngDialog","ui.bootstrap"]),angular.module("hcLib").directive("opPatientForm",function(){return e.$inject=["$scope","$stateParams","opPatientService","opService","$state","ngDialog","$parse"],{restrict:"E",scope:{op:"=?"},controller:e,templateUrl:"src/op-patient-form/op-patient-form.tpl.html"};function e(o,e,s,t,i,n,l){function a(){s.getOpTypeList().then(function(e){o.opTypes=e,o.defOpPatient.opType=o.opTypes[0],o.opPatient=angular.copy(o.defOpPatient),o.setOPCost()})}function d(){s.addOpPatient(o.opPatient).then(function(e){i.go("opPatientList",{opId:o.op.id})})}o.onSelectPatient=function(e){document.querySelector("[ng-model = 'suggestModel']").value=e.name,o.opPatient&&(o.opPatient.patient=angular.copy(e));o.checkPatientStatus(e)},o.onPatientAdd=function(e){document.querySelector("[ng-model = 'suggestModel']").value=e.name,o.opPatient&&(o.opPatient.patient=angular.copy(e));o.checkPatientStatus(e)},o.addOpPatient=function(e){if("New Card"===o.opPatient.cardNo){var t=l("opPatient.opType.id")(o),i=l("opPatient.opSubType.id")(o),n=l("opConfig.costs["+t+"]["+i+"]")(o);if(n){var a=l("opPatient.patient.id")(o);if(a&&!o.opConfig.free.includes(i)){var r={patient:{id:a},opTypeId:t,opSubTypeId:i,validity:n.validity};s.createPatientCard(r).then(function(e){o.opPatient.cardNo=e.id,d()})}else d()}else d()}else d();var r={patient:{id:e.patient.id},opTypeId:e.opType.id,opSubTypeId:e.opSubType.id};s.createPatientCard(r).then(function(e){d()})},o.getOpTypes=a,o.functionToEnableButton=function(){return $timeout(angular.noop,5e3)},o.opTypes=[],o.opConfig={},t.getOp(e.opId).then(function(e){o.op=e,o.defOpPatient={patient:{},op:{id:e.id}},a(),s.getOpSubTypeList().then(function(e){o.opSubTypes=e,o.defOpPatient.opSubType=o.opSubTypes[0],o.opPatient=angular.copy(o.defOpPatient),o.setOPCost()})}),o.opConfig=t.getOPConfig(),o.checkPatientStatus=function(i){var n=void 0;o.opPatientIsExist="",o.opPatient.patient&&(o.opPatient.patient.patientName=""),s.getOpPatientListByOpId({op:{id:e.opId}}).then(function(e){o.opPatientList=e;for(var t=0;t<e.length;t++)if(o.opPatientList[t].patient.id==i.id){n=o.opPatientList[t],o.opPatientIsExist=o.opPatientList[t].patient.name+" Already added to OP.";break}o.opPatientIsExist||o.setOPCost()}),null==n&&(o.opPatientIsExist="",o.patient=i,o.opPatient.patient=o.patient)},o.setOPCost=function(){var e=l("opPatient.opType.id")(o),t=l("opPatient.opSubType.id")(o),i=l("opConfig.costs["+e+"]["+t+"]")(o);if(i){o.opPatient.consultFee=i.cost;var n=l("opPatient.patient.id")(o);if(n&&!o.opConfig.free.includes(t)){var a={patient:{id:n},opTypeId:e,opSubTypeId:t,validity:i.validity};s.getPatientCard(a).then(function(e){if(e){o.opPatient.cardNo=e.id;var t=l("opConfig.costs["+e.opTypeId+"]["+e.opSubTypeId+"].cost")(o);o.opPatient.consultFee=0<i.cost-t?i.cost-t:0}else o.opPatient.cardNo="New Card"})}}}}}),angular.module("hcLib").directive("patientForm",function(){return e.$inject=["$scope","patientService","$stateParams","$state","ngDialog"],{restrict:"E",scope:{patient:"=?",onSubmit:"&"},controller:e,templateUrl:"src/patient-form/patient-form.tpl.html"};function e(t,e,i,n,a){function r(){t.form={},t.genderTypes=GENDERS,t.relationTypes=RELATIONS,t.patient?t.patient=t.patient||{}:(t.gender=t.genderTypes[0],t.relationType=t.relationTypes[1]),t.opId=i.opId}t.addPatient=function(){e.addPatient(t.patient).then(function(e){t.onSubmit({$patient:e}),a.close(a.latestID)})},t.getAgeFromDob=getAgeFromDob,t.getDateFromAge=getDateFromAge,t.init=r,t.getAgeFromDob=function(e){t.patient.age=getAgeFromDob(e)},t.getDateFromAge=function(e){t.patient.dob=getDateFromAge(e)},r()}}),angular.module("tcLib").service("casesheet",["httpService",function(t){this.save=function(e){return t.post("casesheet/saveorupdate",e)},this.caseSheetList=function(e){return t.get("casesheet/search",{opPatientId:e})}}]),angular.module("tcLib").service("commonService",["httpService",function(t){this.createDoctor=function(e){return t.post("common/doctor/create",e)},this.getDoctors=function(){return t.get("common/doctor/list")},this.getDoctorByUserId=function(e){return t.get("common/doctor/user/"+e)},this.getOpTypes=function(){return t.get("common/optype/list")},this.getOpSubTypes=function(){return t.get("common/opsubtype/list")},this.getLabData=function(){return t.get("common/lab/lab-data")},this.getLabReportData=function(){return t.get("common/lab/lab-report-data")},this.getLabTestNotes=function(){return t.get("common/lab/lab-test-notes")},this.getRequisitionSlip=function(){return t.get("common/lab/requisition-slip")}}]),angular.module("tcLib").service("companyService",["httpService",function(t){this.save=function(e){return t.post("company/saveorupdate",e)},this.companiesList=function(){return t.get("company/list")}}]),angular.module("tcLib").service("complaintService",["httpService",function(t){this.saveComplaint=function(e){return t.post("complaint/save",e)},this.saveComplaintTransation=function(e){return t.post("complaint/transact/saveorupdate",e)},this.complaintMastersList=function(e){return t.get("complaint/search",{patientId:e})},this.complaintTransactList=function(e){return t.get("complaint/transact/search",{opPatientId:e})}}]),angular.module("tcLib").service("drugFormulae",["httpService",function(t){this.save=function(e){return t.post("drugFormulae/saveorupdate",e)},this.drugFormulaeList=function(){return t.get("drugFormulae/list")}}]),angular.module("tcLib").provider("httpService",function(){var s="";try{s=location.href.split("/")[3]}catch(e){s=""}this.setBasePath=function(e){s=e},this.$get=["$http","$q",function(i,n){return{get:a.bind(null,"GET"),del:a.bind(null,"DELETE"),put:e.bind(null,"PUT"),post:e.bind(null,"POST"),upload:function(e,t,i,n,a){return o({url:t=r(t,n,a),method:e,data:i,transformRequest:angular.identity,headers:{"Content-Type":void 0}})}.bind(null,"POST"),getJSON:function(e,t,i){return i&&localStorage.getItem(i)?n.when(null).then(function(){var e=localStorage.getItem(i);return JSON.parse(e)}):a(e,t).then(function(e){return localStorage.setItem(i,e.json),e})}.bind(null,"GET")};function a(e,t,i,n){return o({method:e,url:t=r(t,i,n)})}function e(e,t,i,n,a){return o({method:e,url:t=r(t,n,a),data:i})}function r(e,t,i){return t&&(e+="?"+toURLParams(t,i)),"/"+s+"/"+e}function o(e){var t=n.defer();return i(e).success(function(e){e.isSuccess?t.resolve(e.response):t.reject(e)}).error(function(e){t.reject(e)}),t.promise}}]}),angular.module("tcLib").service("labPatientService",["httpService",function(i){this.save=function(e){return i.post("labpatient/save",e)},this.search=function(e){return i.get("labpatient/get",e)},this.saveReport=function(e){return i.post("labpatient/report/save",e)},this.getReport=function(e){return i.get("labpatient/report/get/"+e)},this.savePayment=function(e){return i.post("labpatient/payment/save",e)},this.getPayments=function(e){return i.get("labpatient/get/payments/"+e)},this.uploadReport=function(e,t){return i.upload("labpatient/uploadreport/"+e,t)}}]),angular.module("tcLib").service("locationService",["httpService",function(t){this.save=function(e){return t.post("location/saveorupdate",e)},this.locationsList=function(){return t.get("location/list")}}]),angular.module("tcLib").service("loginService",["httpService",function(t){this.login=function(e){return t.post("auth/login",e)},this.sessionUser=function(){return t.get("auth/sessionuser")}}]),angular.module("tcLib").service("medicineCategoryService",["httpService",function(t){this.save=function(e){return t.post("medicinecategory/saveorupdate",e)},this.medicineCategoryList=function(){return t.get("medicinecategory/list")}}]),angular.module("tcLib").service("medicineCategoryByDoctorService",["httpService",function(t){this.save=function(e){return t.post("medicinecategorybydoctor/saveorupdate",e)},this.medicineCategoryByDoctorList=function(){return t.get("medicinecategorybydoctor/list")}}]),angular.module("tcLib").service("medicineService",["httpService",function(t){this.save=function(e){return t.post("medicine/saveorupdate",e)},this.medicinesList=function(e){return t.get("medicine/list",{id:e})},this.medicineViewList=function(e){return t.get("medicine/listbyoptions",e)}}]),angular.module("tcLib").service("opPatientService",["httpService",function(t){this.save=function(e){return t.post("oppatient/createorupdate",e)},this.getOpPatientsListByOptions=function(e){return t.post("oppatient/listbyoptions",e)},this.getOpPatientByPatientId=function(e){return t.get("oppatient/getoppatientbyid/"+e)},this.getOpPatientCountWithStatusByOpId=function(e){return t.get("oppatient/statuscount/"+e)},this.getOrCreatePatientCard=function(e){return t.post("oppatient/patient-card",e)},this.createPatientCard=function(e){return t.post("oppatient/patient-card/new",e)}}]),angular.module("tcLib").service("opPrescriptionService",["httpService",function(t){this.save=function(e){return t.post("opprescription/saveorupdate",e)},this.searchPurchaseMedicines=function(e){return t.get("opprescription/medicine-search",e)},this.opPrescriptionList=function(e){return t.get("opprescription/list",e)}}]),angular.module("tcLib").service("opService",["httpService",function(t){this.create=function(e){return t.post("op/create",e)},this.search=function(e){return t.post("op/op-list",e)},this.get=function(e){return t.get("op/get/"+e)},this.statusList=function(e){return t.get("op/op-status-list",{date:e})},this.configCreate=function(e){return t.post("op/config/create",e)},this.configList=function(){return t.get("op/config/list")}}]),angular.module("tcLib").service("patientService",["httpService",function(t){this.save=function(e){return t.post("patient/saveorupdate",e)},this.patientsListByOptions=function(e){return t.get("patient/listbyoptions",e)},this.imageData=function(e){return t.get("patient/getphoto",e)}}]),angular.module("tcLib").service("purchasebillMedicineService",["httpService",function(t){this.purchaseBillMedicines=function(e){return t.get("purchasebillmedicine/search",e)},this.alertInfo=function(e){return t.get("purchasebillmedicine/alertinfo",e)},this.pendingBillMedicines=function(e){return t.get("purchasebillmedicine/pendingbills",{billId:e})}}]),angular.module("tcLib").service("purchasebillService",["httpService",function(i){this.createPurchaseBill=function(e){return i.post("purchasebill/save",e)},this.purchaseBillById=function(e){return i.get("purchasebill/get/"+e)},this.purchaseBillsListByOptions=function(e){return i.get("purchasebill/search",e)},this.purchaseTotal=function(e){return i.get("purchasebill/total",e)},this.createPurchaseBillPayment=function(e){return i.post("purchasebill/payment/save",e)},this.purchaseBillPaymentList=function(e){return i.get("purchasebill/payment/search",e)},this.createPurchaseBillReturn=function(e){return i.post("purchasebill/return/save",e)},this.purchaseReturns=function(e){return i.get("purchasebill/returns/get",e)},this.purchaseReturnMedicines=function(e){return i.get("purchasebill/return/medicines/get",e)},this.uploadPurchaseBill=function(e,t){return i.post("purchasebill/upload/"+t,e)}}]),angular.module("tcLib").service("reportsService",["httpService",function(t){this.salesReports=function(e){return t.get("reports/sales/bills",e)},this.salesReturnReports=function(e){return t.get("reports/sales/returns",e)},this.salesPaymentReports=function(e){return t.get("reports/sales/payments",e)},this.paymentReports=function(e){return t.post("reports/payments",e)},this.purchaseReports=function(e){return t.get("reports/purchase",e)},this.salesTransactions=function(e){return t.get("reports/salesPayments",e)},this.purchaseTransactions=function(e){return t.get("reports/purchaseTransactions",e)},this.paymentTransactionsByDateRange=function(e){return t.post("reports/create",e)},this.adjustMrpByDateRange=function(e){return t.post("reports/adjustMrp",e)},this.adjustUnitsOrAvailability=function(e){return t.post("reports/adjustunitsoravailability",e)}}]),angular.module("tcLib").service("representativeService",["httpService",function(t){this.save=function(e){return t.post("representative/saveorupdate",e)},this.representativesList=function(){return t.get("representative/list")}}]),angular.module("tcLib").service("salesbillService",["httpService",function(n){this.create=function(e){return n.post("salesbill/save",e)},this.salesBillsListByOptions=function(e){return n.get("salesbill/list",e)},this.salesAmount=function(e){return n.get("salesbill/total",e)},this.medicineSearch=function(e){return n.get("salesbill/medicines/search",e)},this.createSalesBillPayment=function(e){return n.post("salesbill/payment/save",e)},this.paymentsList=function(e){return n.get("salesbill/payment/search",{billId:e})},this.createSalesBillReturn=function(e){return n.post("salesbill/return/save",e)},this.returnsList=function(e){return n.get("salesbill/return/search",e)},this.prescriptionsList=function(e){return n.get("salesbill/prescription/search",e)},this.savePrescriptionSale=function(e,t,i){return n.post("salesbill/prescription/save/"+t+"?isResale="+(i||!1),e)},this.createPrescriptionSale=function(e){return n.post("salesbill/prescription/add",e)},this.salesReturnTotal=function(e){return n.get("salesbill/returns/total",e)},this.generateInvoiceNum=function(){return n.get("salesbill/generateinvoicenum")}}]),angular.module("tcLib").service("supplierService",["httpService",function(t){this.save=function(e){return t.post("supplier/saveorupdate",e)},this.suppliersList=function(){return t.get("supplier/list")}}]),angular.module("hcLib").run(["$templateCache",function(e){e.put("src/op-patient-form/op-patient-form.tpl.html",'<div class="card grade-linear"><div class="row"><div class="grid-md-4"><div class="row"><div class="grid-md-12"><div class="grade-linear"><form name="opPatientForm" class="grid-md-12 card relative" novalidate><div class="row no-padding op-patient-form-heading"><b>OP Patient Form</b></div><div class="row padding-2px"><label class="grid-md-4" for="patientName">Patient Name*</label><div class="grid-md-8 no-padding"><patient-auto-suggest options="{placeHolder:\'Patient Name\'}" output-model="patient" on-select="checkPatientStatus(selected)"></patient-auto-suggest></div><div ng-if="opPatientIsExist" class="color-red">{{opPatientIsExist}}</div></div><div ng-if="!opPatientIsExist"><div class="row padding-2px"><label class="grid-md-4" for="opType">OP Type*</label><div class="grid-md-8 no-padding"><select ng-model="opPatient.opType" name="opType" class="form-field grid-md-12" required ng-change="setOPCost()" ng-options="optype as optype.opType for optype in opTypes track by optype.id"></select></div></div><div class="row padding-2px"><label class="grid-md-4" for="opType">OP Sub Type*</label><div class="grid-md-8 no-padding"><select ng-model="opPatient.opSubType" name="opSubType" class="form-field grid-md-12" required ng-change="setOPCost()" ng-options="opSubType as opSubType.opSubType for opSubType in opSubTypes track by opSubType.id"></select></div></div><div class="row padding-2px" ng-if="opPatient.opType.id==1 || opPatient.opType.id==2"><label class="grid-md-4" for="cardNo">Card No</label><div class="grid-md-8 relative no-padding"><input ng-model="opPatient.cardNo" disabled class="form-field grid-md-12" name="cardNo" placeholder="Enter Card No" required> <span class="alert-msg" ng-if="opPatientForm.cardNo.$dirty && opPatientForm.cardNo.$error.required">*Enter CardNo</span></div></div><div class="row padding-2px"><label class="grid-md-4" for="consultFee">Conslt. Fee:*</label><div class="grid-md-8 relative no-padding"><input ng-model="opPatient.consultFee" class="form-field grid-md-12" name="consultFee" ng-pattern="/^[0-9]*$/" placeholder="Consultation Fee" required> <span class="alert-msg" ng-if="opPatientForm.consultFee.$dirty && opPatientForm.consultFee.$error.required">*Enter consultFee</span> <span class="alert-msg" ng-if="opPatientForm.consultFee.$dirty && opPatientForm.consultFee.$error.pattern">*Enter Number only</span></div></div><div class="row padding-2px"><label class="grid-md-4" for="height">Ht &nbsp; -- &nbsp; Wt</label><div class="grid-md-8 no-padding"><div class="relative grid-md-5 no-padding pull-left"><input ng-model="opPatient.height" class="form-field grid-md-12" ng-pattern="/^[0-9]*$/" name="height" placeholder="Ht"> <span class="form-field-suffix">cm</span> <span class="alert-msg" ng-if="opPatientForm.height.$dirty && opPatientForm.height.$error.pattern">*Enter Number only</span></div><div class="grid-md-2 no-padding text-center pull-left">--</div><div class="relative grid-md-5 no-padding pull-left"><input ng-model="opPatient.weight" class="form-field grid-md-12" ng-pattern="/^[0-9]*$/" name="weight" placeholder="Wt"> <span class="form-field-suffix">Kg</span> <span class="alert-msg" ng-if="opPatientForm.weight.$dirty && opPatientForm.weight.$error.pattern">*Enter Number only</span></div></div></div><div class="row padding-2px"><label class="grid-md-4" for="temp">Temp. -- Pulse</label><div class="grid-md-8 no-padding"><div class="relative grid-md-5 no-padding pull-left"><input ng-model="opPatient.temperature" class="form-field grid-md-12" name="temp" ng-pattern="/^[0-9]+\\.?[0-9]*$/" placeholder="Temp"> <span class="form-field-suffix"><sup>o</sup>F</span> <span class="alert-msg" ng-if="opPatientForm.temp.$dirty && opPatientForm.temp.$error.pattern">*Enter Number only</span></div><div class="grid-md-2 no-padding text-center pull-left">--</div><div class="relative grid-md-5 no-padding pull-left"><input ng-model="opPatient.pulse" class="form-field grid-md-12" name="pulse" ng-pattern="/^[0-9]*$/" placeholder="Pulse"> <span class="form-field-suffix">BPM</span> <span class="alert-msg" ng-if="opPatientForm.pulse.$dirty && opPatientForm.pulse.$error.pattern">*Enter Number only</span></div><div class="grid-md-3"></div></div></div><div class="row padding-2px"><label class="grid-md-4" for="bp">B.P. &nbsp; --&nbsp; Sugar</label><div class="grid-md-8 no-padding"><div class="relative grid-md-5 no-padding pull-left"><input ng-model="opPatient.bp" class="form-field grid-md-12" ng-pattern="/^[0-9\\/]+$/" name="bp" placeholder="B.P"> <span class="alert-msg" ng-if="opPatientForm.bp.$dirty && opPatientForm.bp.$error.pattern">*Enter Number only</span></div><div class="grid-md-2 no-padding text-center pull-left">--</div><div class="relative grid-md-5 no-padding pull-left"><input ng-model="opPatient.sugar" class="form-field grid-md-12" ng-pattern="/^[0-9]*$/" name="sugar" placeholder="Sugar"> <span class="alert-msg" ng-if="opPatientForm.sugar.$dirty && opPatientForm.sugar.$error.pattern">*Enter Number only</span></div></div></div><div class="row padding-2px"><label class="grid-md-4" for="complaint">Complaint*</label><div class="grid-md-8 relative no-padding"><input name="complaint" ng-pattern="/^[\\w -,]*$/" ng-model="opPatient.complaint" class="form-field grid-md-12" placeholder="Complaint" required> <span class="alert-msg" ng-if="opPatientForm.complaint.$dirty && opPatientForm.complaint.$error.required">*Enter Complaint</span> <span class="alert-msg" ng-if="opPatientForm.complaint.$dirty && opPatientForm.complaint.$error.pattern">*Enter characters only</span></div></div><div class="row no-padding"><div class="grid-md-4"></div><div class="grid-md-8 no-padding"><button class="btn btn-md btn-sky-blue grid-md-12" click-and-disable="functionToEnableButton()" ng-disabled="opPatientForm.$invalid || opPatientIsExist" ng-click="addOpPatient(opPatient)">SAVE</button></div></div><div class="overlay absolute" ng-class="{\'show\':formLoader}"></div><div class="form-loader" ng-class="{\'show\':formLoader}"><i class="fa fa-refresh fa-spin"></i></div></div></form></div></div></div></div><div class="grid-md-8 card padding-5"><div class="row no-padding op-patient-form-heading">Existing Patient Search</div><div><patient-search on-select="onSelectPatient($patient)" on-save="onPatientAdd($patient)" select="select"></patient-search></div></div></div></div>'),e.put("src/patient-form/patient-form.tpl.html",'<style>.borderd{\r\n       border-bottom: 1px solid gray;\r\n    }\r\n    .img-patient{\r\n        width : 200px;\r\n    }</style><h2 align="center">Patient Form</h2><div class="row"><div class="grid-md-8 card"><div class="patientForm-headline borderd"><h3>Add New Patient</h3><div class="pull-right mar-top-44px"><tc-camera ng-model="patient.photoString" confirm-text="Confirm"></tc-camera></div></div><form name="form.patientForm" class="patientForm margin-10" novalidate><div class="row"><div class="grid-md-1"></div><div class="grid-md-9 no-padding"><div class="row"><label class="grid-md-4" for="patientName">Patient Name*</label><div class="grid-md-8 no-padding"><input id="patientName" class="form-field grid-md-12" name="patientName" placeholder="Patient Name" ng-model="patient.name" required> <span class="error-msg" ng-messages="patientForm.patientName.$error"><span ng-message="required">*Name is Required.</span></span></div></div><div class="row"><label class="grid-md-4" for="aadhar">Aadhar No*</label><div class="grid-md-8 no-padding"><input id="aadhar" class="form-field grid-md-12" name="aadhar" placeholder="Aadhar No" ng-blur="isAdhaarExists(patient.adharNo)" ng-model="patient.aadharNo" ng-maxlength="12" maxlength="12" ng-disabled="isAdhaarDisabled"> <span class="error-msg">{{adhaarMsg}}</span></div></div><div class="row"><label class="grid-md-4" for="mobileNo">Mobile No*</label><div class="grid-md-8 no-padding"><input id="mobileNo" class="form-field grid-md-12" name="mobileNo" placeholder="Mobile No" ng-model="patient.mobileNo" ng-pattern="/^[0-9]*$/" ng-maxlength="10" maxlength="10" required> <span class="error-msg" ng-messages="patientForm.mobileNo.$error"><span ng-message="required">*Mobile No is Required.</span> <span ng-message="pattern">*Enter 10digits Mobile Number.</span></span></div></div><div class="row"><label class="grid-md-4" for="altMobileNo">Alt No</label><div class="grid-md-8 no-padding"><input id="altMobileNo" class="form-field grid-md-12" name="altMobileNo" placeholder="Alt Mobile No" ng-model="patient.alternateNo" ng-pattern="/^[0-9]*$/" ng-maxlength="10" maxlength="10"></div></div><div class="row"><label class="grid-md-4" for="altMobileNo">Emergency No</label><div class="grid-md-8 no-padding"><input id="emergencyNo" class="form-field grid-md-12" name="emergencyNo" placeholder="Emergency No" ng-model="patient.emergencyNo" ng-pattern="/^[0-9]*$/" ng-maxlength="10" maxlength="10"></div></div><div class="row"><label class="grid-md-4" for="village">Village*</label><div class="grid-md-8 no-padding"><input id="village" class="form-field grid-md-12" name="village" placeholder="Village" ng-model="patient.village" required> <span class="error-msg" ng-messages="patientForm.village.$error"><span ng-message="required">*Village is Required.</span></span></div></div><div class="row"><label class="grid-md-4" for="dob">DOB -- Age*</label><div class="grid-md-8 no-padding"><div class="row no-padding"><div class="grid-md-6 no-padding relative"><tc-date-picker placeholder="Choose a date" ng-model="patient.dob" ng-change="getAgeFromDob(patient.dob)"></tc-date-picker></div><span class="grid-md-1 no-padding text-center">--</span><div class="grid-md-5 no-padding"><input class="grid-md-12 form-field" name="age" ng-change="getDateFromAge(patient.age)" placeholder="Age" ng-model="patient.age"></div></div></div></div><div class="row"><label class="grid-md-4" for="gender-rltn">Gender -- Relation</label><div class="grid-md-8 no-padding"><div class="row no-padding"><div class="grid-md-4 no-padding show-inline"><select class="grid-md-12 form-field" ng-model="patient.gender" ng-options="genderType for genderType in genderTypes"></select></div><label class="grid-md-1 text-center show-inline no-padding" for="relationType">--</label><div class="grid-md-3 no-padding show-inline"><select class="grid-md-12 form-field" ng-model="patient.relationType" ng-options="relationType for relationType in relationTypes"></select></div><div class="grid-md-4 no-padding pull-right"><input id="relationName" class="form-field grid-md-12" name="age" placeholder="Relation Name" ng-model="patient.relationName"></div></div></div></div><div class="row"><label class="grid-md-4"></label><button class="btn btn-light-green" name="patientFormBtn" ng-disabled="form.patientForm.$invalid || adhaarMsg" ng-click="addPatient();">{{patient.id? \'Update\': \'Save\'}}</button></div></div><div class="grid-md-1"></div></div></form></div><div class="grid-md-4"><div ng-if="!patient.id"><img class="grid-md-12" ng-src="{{patient.photoString}}" alt="Click capture to see preview"></div><div ng-if="patient.id && !patient.photoString"><img src="./patient/getphoto?patientId={{ patient.id }}" class="img-patient" style="border:2px solid gray"></div><div ng-if="patient.id && patient.photoString"><img ng-src="{{patient.photoString}}" class="img-patient" style="border:2px solid gray"></div></div></div>')}]);